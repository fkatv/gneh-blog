<div class="overflow-x-hidden">
    <section #presentacion class=" py-[6%]">
        <h1 class="pb-2 md:text-[2.2em] xs:text-[1.9em]">{{titulo}} </h1>
        <div class="text-gray-500 text-[13px]">
            <h3 class="xs:text-[1.3em] ">Autor: Fabián Catalán Vejar</h3>
            <h4 class="text-[14px] xs:text-[1em]">23 de Diciembre de 2023</h4>
        </div>

        <section #introduccion class="pt-8">
            <div class="rounded-xl border-2 border-primary-200 m-2 my-6 p-4">
                <p><b>Objetivo</b>: Entender y crear un componente estilizado con Tailwind y el sistema de
                    diseño
                    Tailwind Elements en Angular.</p>
            </div>
            <p class="pt-4"> 
                Actualmente, el uso de Tailwind CSS como herramienta de configuración visual de elementos HTML se ha hecho popular en el desarrollo web. Su estructura da pie para crear componentes según el framework donde se use, pues, brinda un soporte a los desarrolladores para crear diseños rápidos, altamente escalables y reproducibles. El inconveniente de usar estas definiciones de diseño es la duplicación de código, originado cuando se necesita repetir o reutilizar los elementos estilizados sin emplear estrategias de reutilización o definiciones de estilos globales. En esta entrada, veremos una estrategia de creación de componentes contextuales en Angular para prevenir la duplicación de código.
            </p>
        </section>
    </section>

    <section #tailwind class=" pb-6">
        <h2 class="pt-4 pb-6">Entendiendo algunas estrategias de diseño</h2>
        <h3 class="py-4">En la práctica,</h3>
        <p>Tailwind cumple su labor de ayudar al diseño y convertir los elementos HTML en candidatos a componentes
            según donde sea usado, preferentemente en frameworks de páginas web basados en javascript como Angular, React, Vue, etc.
        </p>
        <div class="flex justify-center">
            <img class="py-[10%] w-fit h-auto rounded-xl" src="../../../../assets/blogs/reboton/tw-compare.svg" alt="compare Tailwind">
        </div>
        <p class="py-[6%]"> Ahora, visualiza un componente que no solo tiene un aspecto atractivo, sino que también interactúa con el mouse y responde a eventos de otros componentes, ya sea en caso de errores en alguna área o al ser afectado por datos provenientes de peticiones HTTP, entre otros eventos. Como consecuencia, la cantidad de clases que influyen en el diseño dinámico de este elemento crece significativamente. Añádele a esto el hecho de que este elemento se utilizará en varias secciones y páginas del proyecto. La duplicación de código resultante afectaría la escalabilidad y la calidad del desarrollo.

            Una estrategia para abordar esta compleja situación es la utilización de componentes, como se ilustra en la siguiente comparación visual.

        <div class="flex justify-center">
            <img class="rounded-xl py-[10%] w-fit h-auto" src="../../../../assets/blogs/reboton/tw2.svg" alt="tw compare"> 
        </div>

        <h3 class="">Y si uso una clase global en vez de Tailwind CSS?</h3>
        <p class="py-[6%]"> Es posible, sin embargo, para llegar a ese nivel de abstracción se debe tener profundamente
            dominado el diseño y sus interacciones.  Durante las etapas de diseño, los elementos se encuentran en constante evolución, adaptándose a las necesidades específicas de diseño e interacción. Es por ello que el uso de clases globales podría ser más apropiado en fases más avanzadas del proyecto.

            En el proceso de diseño, la visualización debe ser altamente adaptable, escalable y sujeta a prototipos. Por esta razón, la implementación de componentes se convierte en una vía hacia el desarrollo continuo e iterativo de elementos destinados a ser utilizados en diversas secciones del proyecto de software.
            
            A continuación, te ofrezco un adelanto de cómo sería un <mark>componente reutilizable</mark>.
        </p>
        <div class="flex justify-center">
            <img class=" rounded-xl py-[10%] w-fit h-auto" src="../../../../assets/blogs/reboton/tw3.svg" alt="tw component propuesta">
        </div>
        <blockquote class="bg-yellow-100 py-4 my-6 px-2 text-2xl italic text-center text-slate-900">
            <p class="mb-0 font-roboto">"La implementación de componentes se convierte en una vía hacia el desarrollo continuo e iterativo de elementos destinados a ser utilizados en diversas secciones del proyecto de software"</p>
        </blockquote>
    </section>

    <section #knowrebuttons class=" py-[10%]">
        <h2 class="pb-6">Dile hola a los
            <span
                class="px-1 mx-2 animate animate-wiggle before:block before:absolute before:-inset-1 before:-skew-y-3 before:bg-primary-700 relative inline-block">
                <span class="relative text-white">ReButtons!</span>
            </span>
        </h2>
        <div class=" flex flex-col gap-2">
            <div class="pt-6 flex gap-2 justify-center">
                <ux-button
                    [options]="{texto:'Soy un rebutton', uppercase: true, click: null, contexto: null, color:'primary',svg:null}"></ux-button>
                <ux-button
                    [options]="{texto:'Re utilizable', uppercase: false, click: null, contexto: null, color:'secondary',svg:null}"></ux-button>
                <!-- <ux-button
                    [options]="{texto:'tertiary', uppercase: true, click: null, contexto: null, color:'tertiary',svg:null}"></ux-button> -->
            </div>
            <div class="flex flex-row gap-2 justify-center">
                <ux-button
                    [options]="{texto:'Re escalable', uppercase: false, click: null, contexto: null, color:'primary outlined',svg:null}"></ux-button>
                <ux-button
                    [options]="{texto:'y dinámico', uppercase: true, click: null, contexto: null, color:'secondary outlined',svg:'play.svg'}"></ux-button>
                <!-- <ux-button
                    [options]="{texto:'tertiary', uppercase: true, click: null, contexto: null, color:'terciary outlined',svg:null}"></ux-button> -->
            </div>
        </div>

        <section #ejemplo class="">
            <img class=" rounded-xl my-4 w-fit h-auto" src="../../../../assets/blogs/reboton/reboton1.png" alt="reboton1">
            <p class="text-gray-600 text-[16px]">Este fragmento de código estiliza los botones que están arriba.
                Imagínate que sin esta estrategia que te presentaré hubiese repetido <mark>cuatro veces</mark> el código.
            </p>

            <p class="py-[6%]"> Te adelanto!, la forma de llamar al componente del primer botón azulado es como sigue:</p>
            <div class="flex justify-center">
                <img class="rounded-xl w-7/12 h-auto" src="../../../../assets/blogs/reboton/codebtnprimary.png" alt="adelanto">
            </div>
        </section>
    </section>

    <section #interlude class=" py-[10%]">
        <h2 class="pb-8">Presentación del componente
            <span
                class="px-1 mx-2 before:block before:absolute before:-inset-1 before:-skew-y-3 before:bg-primary-700 relative inline-block">
                <span class="relative text-white">ReButtons!</span>
            </span>
        </h2>
        <ux-button class="animate animate-pulse"
            [options]="{texto:'Hola, un gusto ✌️ ', uppercase: true, click: null, contexto: null, color:'primary outlined',svg:null}"></ux-button>
        <h3 class="py-6">Qué es?</h3>
        <p>Un componente contextual estilizado de un botón en Angular. Lo llamo contextual porque recibe el contexto
            del padre como parámetro para que al traspasar las funciones (que podrían manejar variables de la clase
            padre)
            no se pierda el contexto <b>this</b> original y evitar así usar los <b>ng-templates.</b> Lo veremos con
            detalle más adelante. </p>

        <h3 class="py-6">Porqué hacer este componente?</h3>
        <p> 
            Con la conciencia de la disponibilidad de diversas herramientas de diseño que ofrecen plantillas listas para utilizar
             , la idea radica en adquirir habilidades para emplear componentes
             reutilizables en Angular. Este proceso implica comprender la estrategia contextual, familiarizarse con el uso de
              <b>ng-class</b> y simplificar la complejidad asociada con la implementación de templates, al menos en el caso de 
              elementos tan simples como botones.
        </p>
        <h3 class="py-6">Porqué emplear Tailwind Elements?</h3>
        <p> 
            La implementación de un sistema base de diseño no solo optimiza los tiempos de desarrollo, sino que también permite 
            aprovechar maquetas preexistentes, las cuales son gratuitas y ofrecen una escalabilidad destacada. 
            Con más de 500 componentes disponibles, Tailwind Elements se presenta como una elección ideal para la creación 
            de componentes personalizados.
        </p>
        <h3 class="py-6">Para qué hacer este componente?</h3>
        <p>Para mejorar tus habilidades de frontend, para crear nuevas plantillas o sistemas de diseño en Angular,
            mejorar la lectura (readability), reutilización de código y
            para crear tus propios diseños controlados por tu propio componente, qué mejor!</p>
    </section>

    <section #howto class=" py-12">
        <h2 class="py-6">Cómo hacer el componente contextual desde cero?</h2>
        <h3 class="py-6">Roadmap</h3>
        <ul class="list-decimal list-outside py-4 px-12 xs:text-[1.2em] lg:text-[1.3em]">
            <li>Crea tu proyecto Angular</li>
            <li>Instala y configura Tailwind & Tailwind Elements</li>
            <li>Crea e integra un módulo de Angular</li>
            <li>Crea un componente (ReButtons) en el módulo</li>
            <li>Invoca el componente (ReButtons) en tu HTML</li>
            <li>Agrégale una función y un contexto (opcional)</li>
            <li>Agrégale íconos, imágenes al componente (opcional)</li>
        </ul>
        <p></p>
    </section>

    <h2>Manos a la obra!</h2>
    <section  #install class="py-12">
        <h3>1/7 Crea tu proyecto Angular</h3>
        <div class="w-full rounded-[8px] bg-slate-700 text-slate-100 px-4 py-2 my-4">
            <div>npm install -g @angular/cli</div>
        </div>
        <div class="w-full rounded-[8px] bg-slate-700 text-slate-100 px-4 py-2 my-4">
            <div>ng new my_project && cd my_project</div>
        </div>
        <h3 class="py-4">2/7 Instala y configura Tailwind & Tailwind Elements</h3>
        <p>Basado en  <a href="https://tw-elements.com/docs/standard/integrations/angular-integration/" target="_blank">el sitio oficial de TW Elements, recomienda:</a></p>
        <p class="py-4">Node LTS (18.x.x or higher recommended)<br>
            Angular (14.x.x or higher recommended)<br>
            Code editor. We recommend VSCode<br></p>
            <a href="https://tw-elements.com/docs/standard/integrations/angular-integration/" target="_blank">Seguir instrucciones acá.</a>

    </section>

    <section class="py-12">
        <h3 class="py-4">3/7 Crea e integra un módulo de Angular</h3>
        <p>Construyamos un módulo visual llamado 'ux', que contendrá todos los componentes que querramos construir y reusar.
            Podrías pensar que éste módulo es tu propio sistema de diseño!. Lo generaremos tipeando lo siguiente:</p>
        <div class="w-full rounded-[8px] bg-slate-700 text-slate-100 px-4 py-2 my-4">
            <div>ng g m ux</div>
        </div>
        <p>Paso siguiente es exportar tu componente ReButton, tal como aparece codificado de las lineas 11 a la 13 en  la siguiente imágen.</p>

        <div class="flex justify-center">
            <img src="../../../../assets/blogs/reboton/export_component.png" class="rounded-xl my-10" alt="exportar">
        </div>
        <p class="py-4">Ahora integraremos este nuevo módulo al manejador de módulos de Angular del proyecto: <b>app.module.ts</b>. Si te fijas 
        en la imágen siguiente, dentro del NgModule, se importa nuestro módulo UxModule, con esto, podemos emplear todos sus componentes dentro de cualquier
        lugar del proyecto.</p>
        <img src="../../../../assets/blogs/reboton/uxmodule.png" class="my-4 w-full h-auto rounded-xl" alt="uxmodule">
    </section>

    <section class="py-12">
        <h3 class="py-4">4/7 Crea el componente (ReButtons) en el módulo</h3>
        <p>Generaremos el componente dentro del módulo tipeando lo siguiente</p>
        <div class="w-full rounded-[8px] bg-slate-700 text-slate-100 px-4 py-2 my-4">
            <div>ng g c ux/rebutton</div>
        </div>
        <p>Paso a seguir es definir un parámetro de entrada que configurará el comportamiento y visualización de 
            este botón dinámico, para ello empleamos las directivas Input de Angular.</p>
        <div class="flex justify-center">
            <img src="../../../../assets/blogs/reboton/rebuttonsdef.png" class="rounded-xl my-[10%] w-7/12" alt="rebutton def">
        </div>
        <p>Para efectos de este tutorial, solo consideraremos: el texto del botón, la función click, el contexto del 
            componente padre, el color (primary, secondary, primary outlined, secondary outlined) si es uppercase (letras en mayúsculas) y svg (nombre de la imágen que se empleará como ícono). 
            <br>Se empleará una función neutra que no hará nada por defecto, si es que al componente no se le define una función.  
            Mas detalles en el paso 6.
        </p>
        <div class="w-full rounded-[8px] bg-slate-700 text-slate-100 px-4 py-2 my-4">
            <div>{{funcion}} <br><br> ngOnInit() {{bopen}}<br> <div class="pl-4">{{f2}}</div>{{bclose}} </div> 
        </div>

        <p>Definimos también el color del botón según los parámetros definidos, definí cuatro funciones para reconocer cual color debe pintar.</p>
        <div class="flex justify-center">
            <img src="../../../../assets/blogs/reboton/funciones.png" class="rounded-xl my-[5%]" alt="colores funcion">
        </div>

        <p>Pasemos a definir la página web. Te ayudaré a entender por líneas de código.</p>

        <img src="../../../../assets/blogs/reboton/codehtml.png" class="w-full rounded-xl my-[5%]" alt="code_html">

        <br><b>Linea 3</b>: Sólo dibuja el botón mientras hayan parámetros. 
        <br><b>Linea 4-6</b>: Inicializaciones de TW Elements
        <br><b>Línea 7</b>: Se define la función y su contexto padre. 
        <br><b>Línea 8-17</b>: ngClass: clases dinámicas y reactivas!. Se colorea el botón según el tipo de color dado
        <br><b>Línea 19-25</b>: clase del ReButton. Define la estética base y efectos de mouse por defecto.
        <br><b>Línea 26-27</b>: Se define la imagen que aparecerá a la izquierda del texto. 
        <br><b>Línea 28</b>: El texto del componente botón.

        <p class="py-4">Y ya tenemos el componente ReButtons definido! podemos ya empezar a usarlo</p>
    </section>

    <section class="py-[5%]">
        <h3 class="py-4">5/7 Invoca el componente (ReButtons) en tu HTML</h3>
        <p>Es hora de llamar a nuestra creación. Puedes crear otro componente FUERA del módulo e invocar a ReButtons, pues 
            tienes el módulo insertado en el manejador de módulos. Para tu tranquilidad, el código fuente está al final de esta publicación.</p>
        <div class="flex justify-center">
            <img class="rounded-xl w-4/12 my-10 h-auto" src="../../../../assets/blogs/reboton/codebtnprimary.png" alt="adelanto">
        </div>
    </section>

    <section class="pb-12">
        <h3 class="py-8">6/7 Agrégale una función y un contexto</h3>
        <p>Pongámonos en práctica y desarrollemos una función del botón que cambie el texto de un título cualquiera.
            Esta función solo cambiará un atributo de la clase principal (llamémosla title) y debe cambiar a un saludo que definirás.
        </p>

        <p>Si nos detenemos en la función <mark>cambiaTexto</mark>, esta recibe como parámetro un contexto de tipo any, pues debe 
            aceptar cualquier componente padre, incluso el valor nulo. Cuando se desarrolla esta función, hay que tener en consideración
            que toda variable o función que sea llamada debe referenciarse al contexto argumental de la función, es decir, 
            si quieres modificar una variable o llamar una función de la clase, debes cambiar cada THIS por el contexto dado en la función.
        </p>

        <div class="py-6 flex justify-center">
            <img src="../../../../assets/blogs/reboton/app1.png" class="rounded-xl " alt="app1">
        </div>

        <p>Si te fijas bien en la siguiente imágen, se le define la función click sin los paréntesis. Por otro lado, el contexto del componente padre es this, por defecto.</p>

        <div class="py-6 flex justify-center">
            <img src="../../../../assets/blogs/reboton/html1.png" class="rounded-xl " alt="app1">
        </div>

        <blockquote class="bg-yellow-100 py-4 my-6 px-2 text-2xl italic text-center text-slate-900">
            <p class="mb-0 font-roboto">Si quieres modificar una variable o llamar una función de la clase, debes cambiar cada THIS por el contexto dado en la función</p>
        </blockquote>

        <p class="my-2">Al igual que en Java, se emplea la palabra reservada <mark>this</mark> para referirse a la instancia actual (objeto contexto) de dicha clase que está ejecutándose</p>
        <a href="https://developer.mozilla.org/es/docs/Web/JavaScript/Reference/Operators/this">Leer más</a>

        <h3 class="pt-8">Resultados</h3>
        <div class="py-6 flex justify-center">
            <img src="../../../../assets/blogs/reboton/saluda1.png" class="rounded-xl " alt="app1">
        </div>
        <p>Después de clickear</p>
        <div class="py-6 flex justify-center">
            <img src="../../../../assets/blogs/reboton/saluda2.png" class="rounded-xl " alt="app1">
        </div>
    </section>

    <h3 class="py-6">Código del ReButtons</h3>
    Revisa el código en mi github <a href="https://github.com/fkatv/gneh-rebutton"> Gneh-Rebutton</a>

    <div class="flex justify-center pt-24">
        <h2>Gracias por visitar mis publicaciones</h2>
    </div>
</div>